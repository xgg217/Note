# 简单工厂模式

## 代码

+ 首先针对产品，书写一个统一的接口

  ```js
  // 定义产品的接口
  export interface IProduct {
    use(): void;
  }
  ```

+ 接下来是具体的产品类，每一个产品类会去实现产品接口

  ```js
  // 一个具体的产品

  import { IProduct } from "./Interface";

  export class ProductA implements IProduct {
    use() {
      console.log("ProductA is used");
    }
  }
  ```

  ```js
  // 一个具体的产品

  import { IProduct } from "./Interface";

  export class ProductB implements IProduct {
    use() {
      console.log("ProductB is used");
    }
  }
  ```

+ 接下来需要有一个工厂类，这个工厂类提供了一个统一的调用方法 createProduct，回头客户端通过调用该方法来创建不同的产品

  ```js
  import { IProduct } from "./Interface";
  import { ProductA } from "./productA";
  import { ProductB } from "./productB";

  export class SimpleFactory {
    static createProduct(type: string): IProduct {
      switch (type) {
        case "A":
          return new ProductA();
        case "B":
          return new ProductB();
        default:
          throw new Error("No such product");
      }
    }
  }
  ```

+ 最后是客户端测试代码：

  ```js
  // 得到具体的产品
  // 不需要引入具体的产品类
  // 而是通过工厂类来创建具体的产品

  import { SimpleFactory } from "./SimpleFactory";

  const productA = SimpleFactory.createProduct("A");
  const productB = SimpleFactory.createProduct("B");

  productA.use();
  productB.use();
  ```
