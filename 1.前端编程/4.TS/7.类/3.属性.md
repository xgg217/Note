# 类的属性

## tsconfig.json

+ 属性的初始化检查：在 `tsconfig.json` 中设置

  ```json
  // 更加严格的检查
  "compilerOptions": {
    "strictPropertyInitialization": true
  }
  ```

## 定义与标注类型

+ 使用属性列表来描述类中的属性

  ```js
  class User {
    id: number
    name:string

    constructor(name = '小刚刚', age:number=1) {
      this.id = Math.floor(Math.random() * 10 + 1);
      this.name = name;
    }
  }

  const user = new User();
  ```

+ 设置属性默认值

  ```js
  class User {
    readonly id: number // 不能改变
    name:string
    gender: '男' | '女' = '男' // 设置默认值

    constructor(name = '小刚刚', age:number=1) {
      this.id = Math.floor(Math.random() * 10 + 1);
      this.name = name;
    }
  }

  const u = new User();

  // 修改默认值
  u.gender = "女";
  ```

## 属性简写

+ 属性简写

  ```js
  class Animal {
    constructor(
      public name:string,
      protected color:string,
      private _age:number
    ) {

    }
  }

  // 等于
  class Animal {
    public name:string;
    protected color:string;
    private _age:number;
    constructor(
      name:string,
      color:string,
      _age:number
    ) {
      this.name = name;
      this.color = name;
      this._age = _age;
    }
  }
  ```

## 实例属性

+ ES6 中实例的属性只能通过构造函数中的 `this.xxx` 来定义，ES7 提案中可以直接在类里面定义

  ```js
  class Animal {
    name = 'Jack';

    constructor() {
      // ...
    }
  }

  let a = new Animal();
  console.log(a.name); // Jack
  ```
