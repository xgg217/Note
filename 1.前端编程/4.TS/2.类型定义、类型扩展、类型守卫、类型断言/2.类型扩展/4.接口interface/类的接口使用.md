# 类的接口使用

## 概述

+ 在接口中就只能有抽象的方法和属性，相当于就只能声明结构，不能有具体的实现

  ```js
  interface Foo {
    name: string;
    get nameGetter(): string;
    method(name: string): string
  }

  interface Bar {
    show(addr: string): string
  }

  class Baz implements Foo, Bar {
    name = 'baz';
    get nameGetter(): string {
      return this.name;
    }
    method(name: string): string {
      return name;
    }
    show(addr: string): string {
      return addr;
    }
  }
  ```

## 类中的接口

+ 类和接口的实现使用 `implements` 关键字

  ```js
  class Baz implements Foo {}
  ```

+ 接口可以多实现

  ```js
  // 该类中需要同时实现 Foo 和 Bar 中所有属性与方法
  class Baz implements Foo, Bar {}
  ```

+ 在接口中不能使用访问修饰符

+ 接口和接口之间使用 `extends` 继承，而且可以多继承

  ```js
  interface User {
    id: number
    name: string
  }
  interface Person extends User{
    age: number
  }
  ```

## 示例

+ 示例

  ```js
  class User {
    constructor(
      public id: number,
      public name: string,
    ) {}
  }

  interface Rep {
    findById(id: number): User | undefined;
    save(item: User): void;
    delete(item: User): boolean;
  }

  class UserRepos implements Rep {
    private users = new Map<number, User>();

    findById(id: number): User | undefined {
      return this.users.get(id);
    }

    save(item: User) {
      this.users.set(item.id, item);
    }

    delete(item: User): boolean {
      return this.users.delete(item.id);
    }
  }

  const userRepos = new UserRepos();
  userRepos.save(new User(1, "Tom"));
  ```

+ 接口中使用泛型

  ```js
    class User {
    constructor(
      public id: number,
      public name: string,
    ) {}
  }

  interface Rep<T> {
    findById(id: number): T | undefined;
    save(item: T): void;
    delete(item: T): boolean;
  }

  class UserRepos implements Rep<User> {
    private users = new Map<number, User>();

    findById(id: number): User | undefined {
      return this.users.get(id);
    }

    save(item: User) {
      this.users.set(item.id, item);
    }

    delete(item: User): boolean {
      return this.users.delete(item.id);
    }
  }

  const userRepos = new UserRepos();
  userRepos.save(new User(1, "Tom"));
  ```
