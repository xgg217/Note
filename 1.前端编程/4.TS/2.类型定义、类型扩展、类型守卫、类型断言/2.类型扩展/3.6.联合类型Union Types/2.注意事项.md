# 注意事项

## 注意1 访问联合类型的属性或方法

+ 当 TypeScript 不确定一个联合类型的变量到底是哪个类型的时候，我们**只能访问此联合类型的所有类型里共有的属性或方法**：

  ```js
  function getLength(something: string | number): number {
    // 报错：length 不是 string 和 number 的共有属性，所以会报错
    return something.length;
  }
  ```

  ```js
  function getString(something: string | number): string {
    // 访问 string 和 number 的共有属性是没问题的：
    return something.toString();
  }
  ```

## 注意2 类型保护

+ 类型保护：当对某个变量进行类型判断之后，在判断的语句块中可以确定类型

+ 使用 `typeof` 进行触发

  ```js
  let num:number | undefined;

  if(typeof(num) === 'number') {
    // 类型保护
  }
  ```

## 注意3 联合类型的变量在被赋值的时候

+ 会根据类型推论的规则推断出一个类型

  ```js
  let myFavoriteNumber: string | number;
  myFavoriteNumber = 'seven';
  console.log(myFavoriteNumber.length); // 5
  myFavoriteNumber = 7;
  console.log(myFavoriteNumber.length); // 编译时报错
  ```

## 注意4 联合类型含有 unknown

+ 如果联合类型中有 `unknown` ，那么最终得到的都是 `unknown` 类型

  ```js
  type U1 = unknown | null;
  type U2 = unknown | string;
  type U3 = unknown | number;

  // 类型别名 U1,U2,U3 都是 unknown 类型
  ```
