# RGBELoader

## 概述

+ RGBELoader是一个three.js中的纹理加载器，它可以加载HDR格式的纹理

## 加载

+ 导入hdr图像加载器

  ```js
  import { RGBELoader } from 'three/examples/jsm/loaders/RGBELoader.js';
  ```

+ 加载hdr环境贴图

  ```js
  const rgbeLoader = new RGBELoader();

  rgbeLoader.load(
    '/path/to/texture.hdr',
    texture => {
      // 通过PMREMGenerator将HDR纹理生成立方体贴图，并将其用作背景和环境光照
      const pmremGenerator = new THREE.PMREMGenerator( renderer );
      pmremGenerator.compileEquirectangularShader();
      const envMap = pmremGenerator.fromEquirectangular( texture ).texture;
      scene.background = envMap;
      scene.environment = envMap;
      texture.dispose();
      pmremGenerator.dispose();
    },
    undefined,
    error => {
      console.error( 'Error loading HDR texture', error );
    }
  );
  ```

  ```js
  // 异步加载

  const rgbeLoader = new RGBELoader();
  rgbeLoader.loadAsync("textures/hdr/004.hdr").then((texture) => {
    texture.mapping = THREE.EquirectangularReflectionMapping; // 设置映射类型
    scene.background = texture; // 设置背景
    scene.environment = texture; // 设置环境贴图
  });
  ```

  ![alt text](images/加载hdr环境贴图.gif)

