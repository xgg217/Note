# 方法

## 概述

+ EventDispatcher 在该类上可用的所有方法

## .addGroup ( start : Integer, count : Integer, materialIndex : Integer ) : undefined

+ 为当前几何体增加一个 group，详见 groups 属性。

## .applyMatrix4 ( matrix : Matrix4 ) : this

+ 用给定矩阵转换几何体的顶点坐标。

## .applyQuaternion ( quaternion : Quaternion ) : this

+ 用给四元数表示的旋转应用于几何体的顶点坐标。

## .center () : this

+ 根据边界矩形将几何体居中。

## .clearGroups ( ) : undefined

+ 清空所有的 groups。

## .clone () : BufferGeometry

+ 克隆当前的 BufferGeometry。

## .computeBoundingBox () : undefined

+ 计算当前几何体的的边界矩形，该操作会更新已有 .boundingBox。
+ 边界矩形不会默认计算，需要调用该接口指定计算边界矩形，否则保持默认值 null。

## .computeBoundingSphere () : undefined

+ 计算当前几何体的的边界球形，该操作会更新已有 .boundingSphere。
+ 边界球形不会默认计算，需要调用该接口指定计算边界球形，否则保持默认值 null。

## .computeTangents () : undefined

+ 计算并向此geometry中添加tangent attribute。
+ 只支持索引化的几何体对象，并且必须拥有position(位置)，normal(法向)和 uv attributes。如果使用了切线空间法向贴图，最好使用 BufferGeometryUtils.computeMikkTSpaceTangents 中的MikkTSpace算法。

## .computeVertexNormals () : undefined

+ 通过面片法向量的平均值计算每个顶点的法向量
+ 对于索引几何体，该方法将每个顶点法线设置为共享该顶点的面的面法线的平均值
+ 对于非索引几何体，顶点不共享，该方法将每个顶点法线设置为与面法线相同

  ```js
  const geometry = new THREE.BoxGeometry(1, 1, 1);
  const material = new THREE.MeshBasicMaterial({ color: 0x00ff00, wireframe: true });
  const cube = new THREE.Mesh(geometry, material);

  // 会遍历几何体的所有面（faces），并为每个顶点计算平均法线。然后，这些法线信息会被存储在几何体的顶点数据中
  geometry.computeVertexNormals();

  scene.add(cube);
  ```

+ 手动设置法线

  + 如果你需要更精细的控制，你也可以手动设置每个顶点的法线向量
  + 这可以通过访问几何体的 vertexNormals 数组并直接修改其值来实现

  ```js
  // 假设我们有一个顶点索引为 0 的顶点
  geometry.vertices[0].vertexNormals = new THREE.Vector3(0, 1, 0); // 设置法线为 Y轴正方向
  ```

## .copy ( bufferGeometry : BufferGeometry ) : this

+ 将参数指定的 BufferGeometry 的值拷贝到当前 BufferGeometry 中。

## .deleteAttribute ( name : String ) : BufferAttribute

+ 删除具有指定名称的 attribute。

## .dispose () : undefined

+ 从内存中销毁对象。
+ 如果在运行是需要从内存中删除 BufferGeometry，则需要调用该函数。

## .getAttribute ( name : String ) : BufferAttribute
+ 返回指定名称的 attribute。

## .getIndex () : BufferAttribute

+ 返回缓存相关的 .index。

## .hasAttribute ( name : String ) : Boolean

+ 检查是否存在有指定名称的attribute，如果有返回true。

## .lookAt ( vector : Vector3 ) : this

+ vector - 几何体所朝向的世界坐标。

+ 旋转几何体朝向控件中的一点。该过程通常在一次处理中完成，不会循环处理。典型的用法是过通过调用 Object3D.lookAt 实时改变 mesh 朝向。

## .normalizeNormals () : undefined

+ 几何体中的每个法向量长度将会为 1。这样操作会更正光线在表面的效果。

## .rotateX ( radians : Float ) : this

+ 在 X 轴上旋转几何体。该操作一般在一次处理中完成，不会循环处理。典型的用法是通过调用 Object3D.rotation 实时旋转几何体。

## .rotateY ( radians : Float ) : this

+ 在 Y 轴上旋转几何体。该操作一般在一次处理中完成，不会循环处理。典型的用法是通过调用 Object3D.rotation 实时旋转几何体。

## .rotateZ ( radians : Float ) : this

+ 在 Z 轴上旋转几何体。该操作一般在一次处理中完成，不会循环处理。典型的用法是通过调用 Object3D.rotation 实时旋转几何体。

## .scale ( x : Float, y : Float, z : Float ) : this

+ 缩放几何体。该操作一般在一次处理中完成，不会循环处理。典型的用法是通过调用 Object3D.scale 实时旋转几何体。

## .setAttribute ( name : String, attribute : BufferAttribute ) : this

+ 为当前几何体设置一个 attribute 属性。在类的内部，有一个存储 .attributes 的 hashmap， 通过该 hashmap，遍历 attributes 的速度会更快。

## .setDrawRange ( start : Integer, count : Integer ) : undefined

+ 设置 .drawRange 属性。对于非索引 BufferGeometry，count 是要渲染的顶点数。对于索引 BufferGeometry，count 是要渲染的索引数。

## .setFromPoints ( points : Array ) : this

+ 通过基于给定的 points 设置几何图形的位置属性。该数组可以保存 Vector2 或 Vector3 的实例。使用二维数据时，所有顶点的 z 坐标均设置为 0。如果该方法与现有位置属性一起使用，则顶点数据将被数组中的数据覆盖。数组的长度必须与顶点数匹配。

## .setIndex ( index : BufferAttribute ) : this

+ 设置缓存的 .index。

## .toJSON () : Object

+ 返回代表该 BufferGeometry 符合 Object/Scene 规范 的 JSON 对象。

## .toNonIndexed () : BufferGeometry

+ 返回已索引的 BufferGeometry 的非索引版本。

## .translate ( x : Float, y : Float, z : Float ) : this

+ 移动几何体。该操作一般在一次处理中完成，不会循环处理。典型的用法是通过调用 Object3D.position 实时移动几何体。
