# 矩阵

## 概述

+ canvas没有提供斜切方法，可以利用矩阵变换来实现

+ 矩阵变换又可以实现所有的图形变换（平移，放缩，旋转，斜切）

## 矩阵变换机制

+ 所谓的变换就是将原坐标按照一定的变换公式(逻辑)，变换成一个新坐标

  + `( x , y )   ---  矩阵 --- (x' , y')`

+ 使用齐次坐标系来进行矩阵变换，可以简化平移计算

  ```txt
  |x|   |a c e|   |x'|
  |y| * |b d f| = |y'|
  |1|   |0 0 1|   |1 |

  // 计算过程
  x' = x*a + y*c + 1*e
  y' = x*b + y*d * 1*f
  1 =  x*0 + y*0 + 1*1
  ```

+ 使用 `ctx.transform()` 方法，传递转换矩阵，实现图形变换

## API transform

+ `transform(a, b, c, d, e, f)`

+ 变换矩阵的描述

  ```
  a c e
  b d f
  0 0 1
  ```

+ 参数

  + a（m11）矩阵中第一行第一列的单元格
  + b（m12）矩阵中第二行第一列的单元格
  + c（m21）矩阵中第一行第二列的单元格
  + d（m22）矩阵中第二行第二列的单元格
  + e（m41）矩阵中第一行第三列的单元格
  + f（m42）矩阵中第二行第三列的单元格

+ 如果一个点原始坐标为(x, y)，经过变换后，其坐标将变为 (ax+cy+e,bx+dy+f)
+ 这意味着：

  + e 和 f 控制上下文的水平和垂直平移。
  + 当 b 和 c 为 0 时，a 和 d 控制上下文的水平和垂直缩放
  + 当 a 和 d 为 1 时，b 和 c 控制上下文的水平和垂直倾斜
