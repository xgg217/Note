# 状态存储与重置

## 概述

+ 使用 `ctx.save()`  和 `ctx.restore()` 两个方法实现绘制状态的存储和重置

+ `save` 和 `restore` 不是必须的，可以手动按照逻辑，恢复上一次的状态

## 绘制状态

+ 描边样式，填充样式
+ 线条样式
+ 文本样式
+ 裁剪
+ 合成
+ 图像变换

## ctx.save 存储

+ 每次调用 `ctx.save()` 方法，都会将之前设置的状态存储起来(存入栈中)

+ 可以调用多次 `save` 方法，将多个状态按照顺序存入栈中

## ctx.restore 重置

+ 每次调用 `ctx.restore()` 方法，会重置状态
+ 所谓的重置状态，就是将当前状态从栈中移除（删除），恢复到上一次的状态

  ```js
  // 填充红色的矩形
  ctx.save();
  ctx.beginPath();
  ctx.fillStyle = "red";
  ctx.fillRect(0, 0, 100, 100);

  // 填充一个蓝色的圆
  ctx.save();
  ctx.beginPath();
  ctx.fillStyle = "blue";
  ctx.arc(200, 200, 100, 0, Math.PI * 2);
  ctx.fill();

  // 绘制红色的矩形
  ctx.beginPath();
  // ctx.fillStyle = "red";
  ctx.restore();
  ctx.fillRect(300, 300, 100, 100);
  ```
