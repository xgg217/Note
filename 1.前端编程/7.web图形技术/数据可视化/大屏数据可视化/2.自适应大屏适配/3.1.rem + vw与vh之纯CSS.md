# rem + vw/vh 纯CSS处理

## 纯CSS处理

+ rem + vw/vh 是一种混合布局方案，结合了 rem 的灵活性和 vw/vh 的视口响应能力。其核心原理是 动态设置根字体大小（1rem 的值）为视口宽度的百分比，从而让所有基于 rem 的布局自动适配屏幕尺寸

## 动态根字体大小

+ 将 html 的 font-size 设置为 1vw（或更复杂的视口比例），使 1rem = 1%视口宽度

  ```css
  html {
    font-size: 0.625vw; /* 设计稿 1920px 时，1rem = 0.625% * 1920 ≈ 12px */
  }
  ```

## 优势：

+ 所有使用 rem 的尺寸会随视口宽度自动缩放
+ 避免纯 vw 单位在复杂布局中计算繁琐的问题（如 font-size: 0.8vw 可改为 font-size: 1.28rem）

## 视口单位补充

+ 对需要严格依赖视口尺寸的元素（如全屏容器、保持宽高比的元素），直接使用 vw/vh
+ 对字体、间距、内边距等使用 rem，保证整体布局比例协调

## 极端值约束

+ 通过 clamp() 或媒体查询限制根字体大小的最小值和最大值，避免超小/超大屏的极端情况

## 关键逻辑

+ 根字体计算公式

  ```js
  // 设计稿基准值：1rem = 12px，设计稿宽度 1920px
  // 换算公式：fontSize = (基准值 / 设计稿宽度) * 100vw
  fontSize = (12 / 1920) * 100vw = 0.625vw
  ```

+ 单位选择规则

  + 使用 rem：字体、内边距、外边距、边框圆角等需要按比例缩放的属性。
  + 使用 vw/vh：容器尺寸、定位偏移（如 top: 10vh）、需要严格保持视口比例的元素。

+ 极端值处理

  ```css
  /* 最小根字体 12px，最大 24px */
  html {
    font-size: clamp(12px, 0.625vw, 24px);
  }
  ```

  + 超小屏（如 320px 手机）：0.625vw = 2px → 强制限制为 12px。
  + 超大屏（如 3840px）：0.625vw = 24px → 不再继续放大。

## 示例

+ 示例

  + 设计稿尺寸为 1920x1080：

  + 根字体基准值：12px（即 1rem = 12px）。
  + 容器宽度占视口 90%，高度占视口 80%。
  + 字体和间距按 rem 缩放

  ```html
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>
      <style>
        /* 核心：通过视口宽度动态设置 rem */
        html {
          /* 1920px 设计稿下，1rem = 12px → 12px / 1920px = 0.625vw */
          font-size: 0.625vw;

          /* 设置最小/最大字体（可选） */
          font-size: clamp(12px, 0.625vw, 24px);
        }
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        .dashboard {
          width: 90vw; /* 直接依赖视口宽度 */
          height: 80vh; /* 直接依赖视口高度 */
          margin: 5vh auto; /* 上下边距为视口高度的 5% */
          background: #f0f0f0;
          padding: 2rem; /* 内边距按 rem 缩放 */
        }

        .chart-container {
          width: 100%;
          height: 60vh; /* 直接依赖视口高度 */
          background: #2a2a2a;
          margin-bottom: 1.5rem; /* 按 rem 缩放 */
        }

        .info-box {
          width: 100%;
          padding: 1rem; /* 按 rem 缩放 */
          background: #fff;
          border-radius: 0.5rem; /* 按 rem 缩放 */
        }

        .info-text {
          font-size: 1.2rem; /* 按 rem 缩放（设计稿 14.4px） */
          color: #333;
        }
      </style>
    </head>
    <body>
      <div class="dashboard">
        <div class="chart-container"></div>
        <div class="info-box">
          <p class="info-text">当前数据：2023</p>
        </div>
      </div>
    </body>
  </html>
  ```
