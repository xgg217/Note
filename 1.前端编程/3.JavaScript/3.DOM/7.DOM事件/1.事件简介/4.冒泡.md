# 冒泡和捕获

## 冒泡

+ 当一个事件发生在一个元素上，它会首先运行在该元素上的处理程序，然后运行其父元素上的处理程序，然后一直向上到其他祖先上的处理程序
+ 因为事件从内部元素“冒泡”到所有父级，就像在水里的气泡一样

  ```html
  <form onclick="alert('form')">FORM
    <div onclick="alert('div')">DIV
      <p onclick="alert('p')">P</p>
    </div>
  </form>
  ```

+ 点击内部的 `<p>` 会首先运行 onclick：

  1. 在该 `<p>` 上的
  2. 然后是外部 `<div>` 上的
  3. 然后是外部 `<form>` 上的
  4. 以此类推，直到最后的 `document` 对象

+ 几乎所有事件都会冒泡

  + 但是 focus 事件不会冒泡

## 停止冒泡

+ 冒泡事件从目标元素开始向上冒泡
+ 通常，它会一直上升到` <html>` ，然后再到 `document` 对象，有些事件甚至会到达 `window` ，它们会调用路径上所有的处理程序

+ 但是任意处理程序都可以决定事件已经被完全处理，并停止冒泡
+ 用于停止冒泡的方法是 `event.stopPropagation()`

## 注意

+ 不要在没有需要的情况下停止冒泡！
+ 通常，没有真正的必要去阻止冒泡
+ 一项看似需要阻止冒泡的任务，可以通过其他方法解决。其中之一就是使用自定义事件，稍后我们会介绍它们。此外，我们还可以将我们的数据写入一个处理程序中的 event 对象，并在另一个处理程序中读取该数据，这样我们就可以向父处理程序传递有关下层处理程序的信息
