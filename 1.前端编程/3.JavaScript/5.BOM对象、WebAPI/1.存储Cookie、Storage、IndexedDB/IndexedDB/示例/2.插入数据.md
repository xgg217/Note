# 插入数据

## 示例1

+ IndexedDB插入数据需要通过事务来进行操作，插入的方法也很简单，利用IndexedDB提供的add方法即可，这里我们同样将插入数据的操作封装成了一个函数，接收三个参数，分别如下：

  + db：在创建或连接数据库时，返回的db实例，需要那个时候保存下来
  + storeName：仓库名称(或者表名)，在创建或连接数据库时我们就已经创建好了仓库
  + data：需要插入的数据，通常是一个对象

+ 【注意】：插入的数据是一个对象，而且必须包含我们声明的索引键值对

  ```js
  /**
   * 新增数据
   * @param {object} db 数据库实例
   * @param {string} storeName 仓库名称
   * @param {string} data 数据
   */
  function addData(db, storeName, data) {
    var request = db
      .transaction([storeName], "readwrite") // 事务对象 指定表格名称和操作模式（"只读"或"读写"）
      .objectStore(storeName) // 仓库对象
      .add(data);

    request.onsuccess = function (event) {
      console.log("数据写入成功");
    };

    request.onerror = function (event) {
      console.log("数据写入失败");
    };
  }
  ```
