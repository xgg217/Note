# 更新数据

## 示例

+ IndexedDB更新数据较为简单，直接使用put方法，值得注意的是如果数据库中没有该条数据，则会默认增加该条数据，否则更新。有些小伙伴喜欢更新和新增都是用put方法，这也是可行的。

  ```js
  /**
   * 更新数据
   * @param {object} db 数据库实例
   * @param {string} storeName 仓库名称
   * @param {object} data 数据
   */
  function updateDB(db, storeName, data) {
    return new Promise((resolve, reject) => {
      const request = db
        .transaction([storeName], "readwrite") // 事务对象
        .objectStore(storeName) // 仓库对象
        .put(data);

      request.onsuccess = function () {
        resolve({
          status: true,
          message: "更新数据成功"
        })
      };

      request.onerror = function () {
        reject({
          status: false,
          message: "更新数据失败"
        })
      };
    })
  }
  ```
