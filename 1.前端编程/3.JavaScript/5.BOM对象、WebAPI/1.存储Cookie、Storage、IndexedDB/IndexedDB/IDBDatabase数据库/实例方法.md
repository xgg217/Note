# 实例方法

## close()

## createObjectStore() 创建存储库

## deleteObjectStore()

## transaction()

+ API https://developer.mozilla.org/en-US/docs/Web/API/IDBDatabase/transaction

  ```js
  transaction(storeNames)
  transaction(storeNames, mode)
  transaction(storeNames, mode, options)
  ```

  + 参数

    + storeNames

      + 访问表的名称

      ```js
      db.transaction(["my-store-name"]);
      db.transaction("my-store-name");
      ```

    + mode 访问类型

      + readonly 默认

        + 只读

      + readwrite

        + 读 + 写（只在需要写入数据库时使用，版本升级的时候使用）

    + options 配置

      + strict

        + 只有在验证所有未完成的更改已成功写入持久存储介质后，用户代理才可能认为事务已成功提交
        + 当数据丢失的风险超过其对性能和功耗的影响时（与放松时相比），建议这样做

      + relaxed

        + 一旦所有未完成的更改写入操作系统，用户代理就可以认为事务已成功提交，而无需后续验证
        + 这提供了比strict更好的性能，并且推荐用于临时数据，如缓存或快速更改的记录

      + default 默认值

        + 用户代理应该对存储桶使用默认的持久性行为
        + 如果没有另外指定，这是事务的默认值

  + 返回值  IDBTransaction


  ```js
  request.onsuccess = (event) => {

    const db = event.target.result;

    const transaction = db.transaction();
  };
  ```

+ 如果需要访问数据库中的所有对象存储，可以使用该属性

  ```js
  const transaction = db.transaction(db.objectStoreNames);
  ```
