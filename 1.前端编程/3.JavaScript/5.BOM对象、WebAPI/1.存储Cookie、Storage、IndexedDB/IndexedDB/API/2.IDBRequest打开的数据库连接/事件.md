# 事件

## error

+ 指定error事件的监听函数

  ```js
  const openRequest = window.indexedDB.open("toDoList", 4);

  request.onerror = function (event) {
    console.log("数据库打开报错");
    reject(event)
  };
  ```

## success

+ 指定success事件的监听函数

+ 使用方式

  ```js
  r.addEventListener("success", (event) => { })

  r.onsuccess = (event) => { }
  ```

+ 示例

  ```js
  let db; // 数据库对象

  const openRequest = window.indexedDB.open("toDoList", 4);

  openRequest.addEventListener("success", (event) => {
    console.log("Database opened successfully!");

    db = event.target.result; // 数据库对象
  });
  ```

+ 解决ts报错问题

  ```js
  (event.target as IDBOpenDBRequest).result; // 数据库对象
  ```
