# 事件

## close

+ 指定 close 事件（数据库意外关闭）的监听函数

  ```js
  // 数据库关闭的回调函数
  db.onclose = function(event) {
    console.log('Database connection closed');
  };
  ```

## versionchange

+ 数据库版本变化时触发（发生upgradeneeded事件，或调用indexedDB.deleteDatabase()）

  ```js
  // 数据库版本变化的回调函数
  request.onversionchange = function(event) {
    var db = event.target.result;

    // 关闭数据库连接
    db.close();
  };
  ```

## onabort

+ 指定 abort 事件（事务中止）的监听函数

## error

+ 指定 error 事件（访问数据库失败）的监听函数

  ```js
  // 数据库操作错误的回调函数
  request.onerror = function(event) {
    console.error('Database error:', event.target.error);
  };
  ```
