# 静态方法

## URL.createObjectURL()

+ 创建一个用于表示参数中给出的对象的 URL 的字符串

+ 语法 `URL.createObjectURL(object)`

  + 参数

    + object 用于创建 URL 的 File、Blob 或 MediaSource 对象。

  + 返回值 一个包含对象 URL 的字符串，可用于引用指定源 object 的内容

+ `URL.createObjectURL()` 方法用来为上传/下载的文件、流媒体文件生成一个 URL 字符串。这个字符串代表了 `File` 对象或 `Blob` 对象的 URL

  ```js
  // HTML 代码如下
  // <div id="display"/>
  // <input
  //   type="file"
  //   id="fileElem"
  //   multiple
  //   accept="image/*"
  //   onchange="handleFiles(this.files)"
  //  >
  var div = document.getElementById('display');

  function handleFiles(files) {
    for (var i = 0; i < files.length; i++) {
      var img = document.createElement('img');

      // 为上传的文件生成一个 URL 字符串，作为<img>元素的图片来源
      img.src = window.URL.createObjectURL(files[i]);
      div.appendChild(img);
    }
  }

  // 生成的 URL 就像下面的样子。
  blob:http://localhost/c745ef73-ece9-46da-8f66-ebes574789b1
  ```

+ 每次使用 `URL.createObjectURL()` 方法，都会在内存里面生成一个 URL 实例
+ 如果不再需要该方法生成的 URL 字符串，为了节省内存，可以使用 `URL.revokeObjectURL()` 方法释放这个实例

## URL.revokeObjectURL()

+ `URL.revokeObjectURL()` 方法用来释放 `URL.createObjectURL()` 方法生成的 URL 实例

+ 语法 `URL.revokeObjectURL(objectURL)`

  + 参数

    + objectURL 表示之前通过调用 createObjectURL() 方法创建的对象 URL 的字符串

  + 返回值 无（undefined）

  ```js
  var div = document.getElementById('display');

  function handleFiles(files) {
    for (var i = 0; i < files.length; i++) {
      var img = document.createElement('img');
      img.src = window.URL.createObjectURL(files[i]);
      div.appendChild(img);

      // 一旦图片加载成功以后，为本地文件生成的 URL 字符串就没用了
      img.onload = function() {
        // 在img.onload回调函数里面，通过URL.revokeObjectURL()方法卸载这个 URL 实例
        window.URL.revokeObjectURL(this.src);
      }
    }
  }
  ```
