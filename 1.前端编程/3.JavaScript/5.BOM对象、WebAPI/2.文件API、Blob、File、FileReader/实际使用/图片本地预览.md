# 图片本地预览

## 图片本地预览

+ 方式1 使用 DataURL

  ```html
    <h1>1.DataURL方式：</h1>
  <input type="file" accept="image/*" onchange="selectFileForDataURL(event)">
  <img id="output1">
  ```

  ```js
  // 1.DataURL方式：
  async function selectFileForDataURL() {
      const reader = new FileReader();
      reader.onload = function () {
          const output = document.querySelector("#output1")
          output.src = reader.result;
      }
      reader.readAsDataURL(event.target.files[0]);
  }
  ```

+ 方式2 使用 Blob URL/Object URL

  ```html
  <h1>2.Blob方式：</h1>
  <input type="file" accept="image/*" onchange="selectFileForBlob(event)">
  <img id="output2">
  ```

  ```js
  //2.Blob方式：
  async function selectFileForBlob(){
      const reader = new FileReader();
      const output = document.querySelector("#output2");
      const imgUrl = window.URL.createObjectURL(event.target.files[0]);
      output.src = imgUrl;
      reader.onload = function(event){
          window.URL.revokeObjectURL(imgUrl);
      }
  }
  ```

