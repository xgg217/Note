# 实例方法

## Worker.postMessage()

+ Worker 接口的 postMessage() 方法可以向 worker 发送消息
+ 第一个参数是要发送到 worker 的数据
+ 该数据可以是任何可以被结构化克隆算法处理的 JavaScript 对象

+ Worker 的 postMessage() 方法委托给 MessagePort 的 postMessage() 方法，该方法会在对应的用于接收 MessagePort 的事件循环中添加一个任务

+ API

  ```js
  postMessage(message)
  postMessage(message, transfer)
  ```

  + 参数

    + message

      + 要传递给 worker 的对象；这将在传递给 DedicatedWorkerGlobalScope.message_event 事件的 data 字段中
      + 这可以是任何值或可以通过结构化克隆算法处理的 JavaScript 对象（可以包含循环引用）

      + 如果未提供 message 参数，则解析器将抛出 SyntaxError
      + 如果要传递给 worker 的数据不重要，可以显式传递 null 或 undefined

    + transfer 可选

      + 一个可选的、会被转移所有权的可转移对象数组

        + 如果一个对象的所有权被转移，它将在发送它的上下文中变为不可用（中止），而仅在接收方的 worker 中可用

      + 像 ArrayBuffer、MessagePort 或 ImageBitmap 类的实例才是可转移对象，才能够被转移

        + 不能将 `null` 作为 transfer 的值

    + 返回值

      + 无 (undefined)

  + 返回值


## Worker.terminate()

+ Worker 接口中的 `terminate()` 方法用于立即终止 Worker 的行为
+ 本方法并不会等待 worker 去完成它剩余的操作；worker 将会被立刻停止

+ API

  ```js
  terminate()
  ```

  + 参数

    + 无

  + 返回值

    + 无 (undefined)


  ```js
  var myWorker = new Worker("worker.js");

  myWorker.terminate();
  ```
