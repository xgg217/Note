# 实例方法

## cancel() 取消

+ ReadableStream 接口的 cancel() 方法返回一个 Promise，这个 promise 会在流被取消的时候兑现

  + cancel 用于在不再需要来自它的任何数据的情况下（即使仍有排队等待的数据块）完全结束一个流
  + 调用 cancel 后该数据丢失，并且流不再可读
  + 为了仍然可以读这些数据块而不完全结束这个流，你应该使用 `ReadableStreamDefaultController.close()`

+ 语法

  ```js
  cancel()
  cancel(reason)
  ```

+ 参数

  + reason 可选 人类可读的取消原因。底层源代码可能会使用它

+ 返回值 一个 Promise，会在结束时使用给定的 reason 参数兑现

## getReader()

+ ReadableStream 接口的 getReader() 方法会创建一个 reader，并将流锁定

  + 只有当前 reader 将流释放后，其他 reader 才能使用

+ 语法

  ```js
  getReader()
  getReader(mode)
  ```

+ 参数

  + mode 可选 具有 mode 参数的对象，值为 DOMString 类型，用来指定要创建的 reader 的类型。其值可以是：

    + "byob"，结果为 ReadableStreamBYOBReader 类型，可读取可读字节流。
    + undefined（或不指定——缺省值），返回 ReadableStreamDefaultReader，可以从流中返回单个分块。

+ 返回值 ReadableStreamDefaultReader 类型或 ReadableStreamBYOBReader 类型的实例，取决于 mode 值

## pipeThrough()

+ ReadableStream 接口的 pipeThrough() 方法提供了一种链式的方式，将当前流通过转换流或者其他任何一对可写/可读的流进行管道传输。

  + 传输一个流通常在管道传输的时间内锁定这个流，以阻止其他 reader 锁定它

+ 语法

  ```js
  pipeThrough(transformStream)
  pipeThrough(transformStream, options)
  ```

+ 参数

  + transformStream 由一对可读流和可写流组成的 TransformStream（或者结构为 {writable, readable} 的对象），它们共同工作以对数据进行转换。writable 流写入的数据在某些状态下可以被 readable 流读取。例如，向 TextDecoder 写入字节并从中读取字符串，而视频解码器则是写入编码的字节数据，并从中读取解压后的视频帧。

  + options 可选 传输至 writable 流应该被使用的选项。可用选项是：

    + preventClose 如果设置为 true，源 ReadableStream 的关闭将不再导致目标 WritableStream 关闭。一旦此过程完成，该方法返回的 promise 将被兑现；除非在关闭目标流时遇到错误，在这种情况下，它将因为该错误被拒绝。

    + preventAbort 如果设置为 true，源 ReadableStream 中的错误将不再中止目标 WritableStream。该方法返回的 promise 将因源流的错误或者任何在中止目地流期间的错误而被拒绝。

    + preventCancel 如果设置为 true，目标 WritableStream 的错误将不再取消源 ReadableStream。在这种情况下，该方法返回的 promise 将因源流的错误或者在取消源流期间发生的任何错误而被拒绝。此外，如果目标可写流开始关闭或者正在关闭，则源可读流将不再被取消。在这种情况下，方法返回的 promise 也将被拒绝，其错误为连接到一个已关闭的流或者在取消源流期间发生的任何错误。

    + signal 用于设置一个 AbortSignal 对象，然后可以通过相应的 AbortController 中止正在进行的传输操作。

+ 返回值 transformStream 的 readable 端

## pipeTo()

+ ReadableStream 接口的 pipeTo() 方法通过管道将当前的 ReadableStream 中的数据传递给给定的 WritableStream 并且返回一个 Promise，promise 在传输成功完成时兑现，在遇到任何错误时则会被拒绝

  + 传输一个流时通常会在传输的持续时间内锁定这个流，以阻止其他 reader 锁定它

+ 语法

  ```js
  pipeTo(destination)
  pipeTo(destination, options)
  ```

+ 参数

  + destination 充当 ReadableStream 最终目标的 WritableStream

  + options 可选 传输至 writable 流应该被使用的选项。可用选项是：

    + preventClose 如果设置为 true，源 ReadableStream 的关闭将不再导致目标 WritableStream 关闭。一旦此过程完成，该方法将返回的 promise 将被兑现；除非在关闭目标时遇到错误，在这种情况下，它将因为该错误被拒绝。

    + preventAbort 如果设置为 true，源 ReadableStream 中的错误将不再中止目标 WritableStream。该方法返回的 promise 将因源流的错误或者任何在中止目地流期间的错误而被拒绝。

    + preventCancel 如果设置为 true，目标 WritableStream 的错误将不再取消源 ReadableStream。在这种情况下，该方法返回的 promise 将因源流的错误或者在取消源流期间发生的任何错误而被拒绝。此外，如果目标可写流开始关闭或者正在关闭，则源可读流将不再被取消。在这种情况下，方法返回的 promise 也将被拒绝，其错误为连接到一个已关闭的流或者在取消源流期间发生的任何错误。

    + signal 如果设置一个 AbortSignal 对象，然后可以通过相应的 AbortController 中止正在进行的传输操作。

+ 返回值 返回一个 Promise，其在传输完成时兑现

## tee()





















