# 首次渲染

## 过程

1. 通过参数的值创建节点

2. 根据不同的节点做不同的事情

    1. 文本节点：通过 `document.createTextNode('文本')` 创建真实的文本节点

    2. 空节点：什么都不做

    3. 数组节点：遍历数组，将数组每一项递归创建节点（回到第一步进行反复操作，直到遍历结束）

    4. DOM 节点：通过 `document.createElement('元素')` 创建真实的 DOM 对象，然后立即设置该真实 DOM 元素的各种属性。然后遍历对应的 React 元素的 children 属性，递归操作（回到第一步进行反复操作，直到遍历结束）

    5. 函数组件：调用函数。该函数必须返回一个可以生成节点的内容，将该函数的返回结果递归生成节点（回到第一步进行反复操作，直到遍历结束）

    6. 类组件

        1. 创建该组件的实例

        2. 立即调用该组件的生命周期方法：`static getDerivedStateFromProps`

        3. 运行该对象的 `render` 方法，拿到一个节点对象，将该节点递归操作（回到第一步进行反复操作）

        4. 将该组件的 `componentDidMount` 加入执行队列（先进先出，先进先执行），当整个虚拟DOM 树全部构建完毕，标签将真实DOM 对象加入到容器后，执行该队列

3. 生成出虚拟DOM 书之后，将该树保存起来，以便后续使用

4. 将之前生成的真实的DOM对象，加入到容器中

## 示例

+ 代码

  ```js
  // DOM 节点
  const app = <div>
    <h1>
      标题
      {['asdfsd', null, <p>小刚刚</p>]}
    </h1>
    <p>{ undefined }</p>
  </div>

  ReactDOM.render(app, document.getElementById('root'));
  ```
