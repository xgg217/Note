# 什么场景下需要抽取hooks呢

## 概述

1. 逻辑复用

  + 当多个组件中存在相同或相似的逻辑时，抽取为 Hooks 可以提高代码的复用性
  + 例如，在多个不同的页面组件中都需要进行数据获取和状态管理，如从服务器获取用户信息并显示加载状态、错误状态等。可以将这些逻辑抽取为一个useFetchUser的 Hooks 方法，这样不同的组件都可以调用这个方法来获取用户信息，避免了重复编写相同的代码

2. 复杂逻辑的封装

  + 如果某个组件中有比较复杂的业务逻辑，将其抽取为 Hooks 可以使组件的代码更加清晰和易于维护
  + 比如，一个表单组件中包含了表单验证、数据提交、错误处理等复杂逻辑。可以将这些逻辑分别抽取为useFormValidation、useSubmitForm、useFormErrorHandling等 Hooks 方法，然后在表单组件中组合使用这些 Hooks，使得表单组件的主要逻辑更加专注于用户界面的呈现，而复杂的业务逻辑被封装在 Hooks 中

3. 与特定功能相关的逻辑

  + 当有一些特定的功能需要在多个组件中使用时，可以抽取为 Hooks
  + 例如，实现一个主题切换功能，需要管理当前主题状态、切换主题的方法以及保存主题设置到本地存储等逻辑。可以将这些逻辑抽取为useTheme Hooks 方法，方便在不同的组件中切换主题和获取当前主题状态

4. 提高测试性

  + 如果某些逻辑在组件中难以进行单元测试，可以将其抽取为 Hooks 以提高测试性
  + 比如，一个组件中的定时器逻辑可能与组件的生命周期紧密耦合，难以单独测试。将定时器相关的逻辑抽取为useTimer Hooks 方法后，可以更容易地对定时器的行为进行单元测试，而不依赖于组件的其他部分
