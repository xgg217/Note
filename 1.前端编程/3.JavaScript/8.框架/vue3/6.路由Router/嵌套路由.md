# 嵌套路由

## 概述

+ 嵌套父级

  ```
  /user/johnny/profile                   /user/johnny/posts
  ┌──────────────────┐                  ┌──────────────────┐
  │ User             │                  │ User             │
  │ ┌──────────────┐ │                  │ ┌──────────────┐ │
  │ │ Profile      │ │  ────────────>   │ │ Posts        │ │
  │ │              │ │                  │ │              │ │
  │ └──────────────┘ │                  │ └──────────────┘ │
  └──────────────────┘                  └──────────────────┘
  ```

## 忽略父组件

+ 我们还可以仅利用路由的父子关系，但不嵌套路由组件
+ 这对于将具有公共路径前缀的路由分组在一起或使用更高级的功能时很有用，例如：路由独享的守卫或路由元信息

+ 为了实现这一点, 我们在父路由中省略了 component 和 components 选项

  ```js
  // 由于父级没有指定路由组件，顶级 <router-view> 将跳过父级并仅使用子路由组件
  const routes = [
    {
      path: '/admin',
      children: [
        // 当路由是 /admin 的时候 显示该组件
        { path: '', component: AdminOverview },

        // 当路由是 /admin/users 的时候 显示该组件
        { path: 'users', component: AdminUserList },
        { path: 'users/:id', component: AdminUserDetails },
      ],
    },
  ]
  ```


## 方式1 嵌套的 URL

+ 子组件嵌套父级

  ```html
  <!-- User.vue -->
  <template>
    <div class="user">
      <h2>User {{ $route.params.id }}</h2>
      <router-view />
    </div>
  </template>
  ```

  ```js
  const routes = [
    {
      path: '/user/:id',
      component: User,
      children: [
        {
          // 当 /user/:id/profile 匹配成功
          // UserProfile 将被渲染到 User 的 <router-view> 内部
          path: 'profile',
          component: UserProfile,
        },
        {
          // 当 /user/:id/posts 匹配成功
          // UserPosts 将被渲染到 User 的 <router-view> 内部
          path: 'posts',
          component: UserPosts,
        },
      ],
    },
  ]
  ```

## 方式2 根路径

+ 以 / 开头的嵌套路径将被视为根路径
+ 这允许你利用组件嵌套，而不必使用嵌套的 URL

  ```json
  {
    "path": "/admin/finance",
    "name": "finance",
    "component": "",
    "children": [
      {
        "path": "/admin/basicdata",
        "name": "basicdata",
        "component": "",
        "children": [
          {
            "path": "/admin/financeDepartment",
            "name": "financeDepartment",
            "component": "/src/views/backend/finance/financeDepartment/index.vue",
            "children": []
          }
        ]
      },
    ]
  }
  ```
