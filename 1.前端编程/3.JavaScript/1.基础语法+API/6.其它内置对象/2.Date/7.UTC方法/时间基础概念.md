# 时间基础概念

## UTC（协调世界时）

+ UTC 就是世界统一时间
+ 不管你在哪，它都不会变。所有的“当地时间”都是基于它来的

+ 我们存数据库、传给后端、记录日志，最保险的办法就是用 UTC

  + 否则你今天看到的 9 点，明天可能就是 8 点半

+ 📌 简单记住：时间统一用 UTC 表示，展示再转换成本地时区

## 时区 ≠ 偏移量

+ 很多人以为时区就是 “+08:00” 或 “-05:00”，其实这只是某个时刻的偏移值，真正的时区是像 Asia/Shanghai、America/New_York 这样的东西，里面包含了一堆规则，比如夏令时

+ 举个例子：America/New_York 冬天是 -05:00，夏天会跳成 -04:00。你如果只是用偏移值处理，早晚要出问题


## UTC 和 GMT 有什么不同？

+ UTC 是现在用的标准，比 GMT 更准确（GMT 是以前基于天文台的，UTC 是原子钟的）

+ 现在写代码的时候，一律用 UTC，别管 GMT 了

## IANA 时区数据库

+ 时区名称如 Asia/Shanghai、Europe/London 都来自 IANA 时区库，它们不仅是标识符，还包含了完整的偏移规则和 DST 历史

+ 不要写 PST、EST、CST —— 这些缩写不靠谱，一个缩写可能指好几个地方，而且夏令时一来直接乱套


## 推荐的时间格式：ISO 8601

+ 如果你要传时间给接口、存数据库，最稳的是这种格式：

  ```js
  now.toISOString()
  2023-10-27T10:00:00.000Z        // UTC 时间


  2023-10-27T12:00:00.000+02:00   // 明确指出偏移的本地时间
  ```

+ 这种格式跨语言都能认，也不会有歧义
