## å­—ç¬¦é•¿åº¦æ£€æŸ¥

## æœ€ä½³å®è·µ

+ å¯¹äºç®€å•çš„ ASCII å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ length å±æ€§ã€‚
+ å¯¹äºå¯èƒ½åŒ…å«å¤šå­—èŠ‚å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œä½¿ç”¨ `Array.from()` è½¬æ¢å’Œ `reduce` æ–¹æ³•

## åˆ©ç”¨ String.prototype.length

+ æœ€ç›´æ¥å’Œé«˜æ•ˆçš„æ–¹æ³•æ˜¯åˆ©ç”¨å­—ç¬¦ä¸²æœ¬èº«çš„ length å±æ€§
+ è¿™ä¸ªå±æ€§æä¾›äº†å­—ç¬¦ä¸²ä¸­ 16 ä½ç å…ƒï¼ˆJavaScript ä¸­çš„å­—ç¬¦é€šå¸¸ä¸º UTF-16 ç¼–ç ï¼‰çš„æ•°é‡ï¼Œå¯¹äºå¤§å¤šæ•°åº”ç”¨åœºæ™¯æ¥è¯´å·²ç»è¶³å¤Ÿ

  ```js
  const myString = "Efficient length check";
  console.log(myString.length); // ç«‹å³è¿”å›å­—ç¬¦ä¸²é•¿åº¦
  ```

## ä½¿ç”¨ Array.from å’Œ reduce ä¼˜åŒ–å¤šå­—èŠ‚å­—ç¬¦é•¿åº¦æ£€æŸ¥

+ å¯¹äºéœ€è¦å‡†ç¡®è®¡ç®—åŒ…å«å¤šå­—èŠ‚å­—ç¬¦çš„å­—ç¬¦ä¸²é•¿åº¦çš„æƒ…å†µï¼Œä½¿ç”¨ Array.from å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°ç»„ï¼Œç„¶åé€šè¿‡ reduce æ–¹æ³•è®¡ç®—é•¿åº¦æ˜¯ä¸€ç§æœ‰æ•ˆçš„æ–¹æ³•ã€‚

  ```js
  function getAccurateLength(str) {
    return Array.from(str).reduce((acc) => acc + 1, 0);
  }

  const multiByteStr = "Hello, ğŸŒ!";
  console.log(getAccurateLength(multiByteStr)); // æ­£ç¡®è®¡ç®—åŒ…å«å¤šå­—èŠ‚å­—ç¬¦çš„é•¿åº¦
  ```
