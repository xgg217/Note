# 基础

## 组件模板和样式

  - 类似于页面，自定义组件拥有自己的 `wxml` 模板和 `wxss` 样式

## 注意

  - 节点名只能是小写字母、中划线和下划线的组合

  - 自定义组件可以引用自定义抓紧，方式与页面应用自定义组件一致

  - 在应用页面中是否使用 `usingComponents` 会是页面的 `this` 对象的原型指向会有差异

## 创建组件模板

  - 组件模板的写法与页面模板相同。组件模板与组件数据结合后生成的节点树，将被插入到组件的引用位置上

  - 在组件模板中可以提供一个 `<slot>` 节点，用于承载组件引用时提供的子节点

    ```html
    <!-- 组件模板 -->
    <view class="wrapper">
      <view>这里是组件的内部节点</view>
      <slot></slot>
    </view>
    ```

    ```javascript
    // json 文件
    "usingComponents": {
      "xgg-cmp": "./../cmp/x-cmp/xgg"
    }
    ```

    ```html
    <!-- 引用组件的页面模板 -->
    <view>
      <component-tag-name>
        <!-- 这部分内容将被放置在组件 <slot> 的位置上 -->
        <view>这里是插入到组件slot中的内容</view>
      </component-tag-name>
    </view>
    ```

## 创建组件样式

  - 组件对应 `wxss` 文件的样式，只对组件 `wxml` 内的节点生效

  - 编写组件样式时，需要注意以下几点：

      - 组件和引用组件的页面**不能**使用id选择器（`#a`）、属性选择器（`[a]`）和标签名选择器，请改用 `class` 选择器

      - 组件和引用组件的页面中使用后代选择器（.a .b）在一些极端情况下会有非预期的表现，如遇，请避免使用

      - 子元素选择器（`.a>.b` ）只能用于 `view` 组件与其子节点之间，用于其他组件可能导致非预期的情况

      - 继承样式，如 `font` 、 `color` ，会从组件外继承到组件内

      - 除继承样式外， `app.wxss` 中的样式、组件所在页面的的样式对自定义组件**无效**（除非更改组件样式隔离选项）

    ```javascript
    #a { } /* 在组件中不能使用 */
    [a] { } /* 在组件中不能使用 */
    button { } /* 在组件中不能使用 */
    .a > .b { } /* 除非 .a 是 view 组件节点，否则不一定会生效 */
    ```
