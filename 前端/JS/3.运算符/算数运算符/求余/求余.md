# 求余

## 使用

*   数运算符（`%`）返回前一个运算子被后一个运算子除，所得的余数

    ```javascript
    12 % 5 // 2
    ```

*   需要注意的是，运算结果的正负号由第一个运算子的正负号决定

    ```javascript
    -1 % 2 // -1
    1 % -2 // 1
    ```

## 负数求余

*   为了得到正确的负数的余数值，需要先使用绝对值函数

    ```javascript
    // 错误的写法
    function isOdd(n) {
      return n % 2 === 1;
    }
    isOdd(-5) // false
    isOdd(-4) // false

    // 正确的写法
    function isOdd(n) {
      return Math.abs(n % 2) === 1;
    }
    isOdd(-5) // true
    isOdd(-4) // false
    ```

*   余数运算符还可以用于浮点数的运算。但是，由于浮点数不是精确的值，无法得到完全准确的结果

    ```javascript
    6.5 % 2.1
    // 0.19999999999999973
    ```

## 原理

*   `x % y`：表示 `x - (n * y)`

*   `n` 表示商的取值 `（n = x / y）`，直接去掉 `n` 的小数，向 0 取整

    ```javascript
    7 % 3 = 1

    // 表示
    7 / 3 = 2.333 = 2
    7 - (2 * 3) = 1
    ```

    ```javascript
    7 % -3 = 1

    // 表示
    7 / -3 = -2.333 = -2
    7 - (-2 * -3) = 1
    ```
