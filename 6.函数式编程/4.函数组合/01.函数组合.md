# 函数组合 compose

## 概述

+ 将对各单参函数组合起来，形成一个新的函数，这些函数中，前一个函数的输出，时后一个函数的输入

## 功能

+ `compose` 函数能做的事情

  ```js
  compose(f,g)(x) === f(g(x))
  compose(f,g,m)(x) === f(g(m(x)))
  compose(f,g,m)(x) === f(g(m(x)))
  compose(f,g,m,n)(x) === f(g(m(n(x))))
  ```

+ 概括来说，就是接收若干个函数作为参数，返回一个新函数
+ 新函数执行时，按照由右向左的顺序依次执行传入 `compose` 中的函数，每个函数的执行结果作为为下一个函数的输入，直至最后一个函数的输出作为最终的输出结果

## 应用 compose 函数

+ 常规实现

  ```js
  let n = '3.56';
  let data = parseFloat(n);
  let result = Math.round(data); // =>4 最终结果
  ```

+ 用 `compose` 函数改写

  ```js
  let n = '3.56';
  let number = compose(Math.round, parseFloat);
  let result = number(n); // =>4 最终结果
  ```

+ 这个组合的过程就是函数式组合！我们将两个函数组合在一起以便能及时的构造出一个**新函数**！

## 传入多个参数

+ 常规使用，只能传入一个参数
+ 如需要传入多个参数需要借助 柯里化（ `curry` ）函数

  ```js
  var toUpperCase = curry(function(name, x) {
    console.log(name); // "xgg"
    console.log(x); // 'kevin'
    return x.toUpperCase();
  });
  var hello = function(x) { return 'HELLO, ' + x; };

  var greet = compose(hello, toUpperCase("xgg"));
  console.log(greet('kevin'));
  ```


